# Voxalyze Jovo Plugin

![npm (scoped)](https://img.shields.io/npm/v/@voxalyze/jovo-plugin?style=flat-square) ![GitHub](https://img.shields.io/github/license/voxalyze/skill-sdk?style=flat-square)

With Voxalyze, you can get real-time reports and insights about your Alexa skill visitors on multiple dimensions. This Jovo Plugin reports meta-data from your Alexa Skill to our API. We match the data received from your skill with data we collect through our campaign proxy. This allows us to track where your visitors come from and which of your campaigns perform best.

## Installation

To use the Voxalyze Jovo plugin, simply install it to your project dependencies:

```bash
$ npm install @voxalyze/jovo-plugin
```

Afterwards, in your Jovo project:

```js
const { Voxalyze } = require('@voxalyze/jovo-plugin');

const app = new App();

app.use(
  new Alexa(),
  // ... other plugins etc.
  new Voxalyze()
);
```

Finally, add your Voxalyze API key to your Jovo config:

```js
module.exports = {
  // ... other configs
  plugin: {
    Voxalyze: {
      apiKey: 'YOUR_VOXALYZE_KEY',
    },
  },
};
```

## Error handling

The Voxalyze plugin will not block the execution of your skill code. If there is an error occurring in the SDK, it will be logged but not thrown.

## Privacy and compliance

The Voxalyze Skill SDK does not send any personally identifiable information (PII) to our servers. You are free to choose what handlers you want to track. Although you need to track at least the LaunchRequest handler to receive meaningful campaign attribution data. Below you can find an exact overview what data we collect through this SDK.

| Field       | Description                                                                                                                                                     |
| ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| eventId     | A random ID, generated by the SDK for each event                                                                                                                |
| skillId     | The unique ID of your Alexa skill                                                                                                                               |
| userId      | The user ID for your skill user. This is no PII since the ID is unique per user/skill and gets regenerated everytime the user re-installs your skill            |
| deviceId    | The device ID for your skill user's device. This is no PII since the ID is unique per user/skill and gets regenerated everytime the user re-installs your skill |
| viewport    | Data on the device's screen type and sizes                                                                                                                      |
| requestType | The type of request, e.g. 'LaunchRequest'                                                                                                                       |
| requestId   | The Amazon request ID. Useful for tracing and error handling                                                                                                    |
| locale      | The device's locale, e.g. 'de-DE'                                                                                                                               |
| timestamp   | A timestamp when the event was triggered                                                                                                                        |

## Debugging

We use the [debug](https://www.npmjs.com/package/debug) package for debug log output. If you experience any issues, we recommend testing your skill handlers locally while activating the SDK's debug output:

```bash
$ DEBUG=voxalyze-sdk:* node index.js
```

Or on Windows:

```powershell
> set DEBUG=voxalyze-sdk:* & node index.js
```
